generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Directory {
  id        String      @id @default(uuid())
  name      String
  parentId  String?
  parent    Directory?  @relation("DirectoryChildren", fields: [parentId], references: [id])
  children  Directory[] @relation("DirectoryChildren")
  files     File[]      @relation("DirectoryFiles")
  createdAt DateTime    @default(now())
}

model File {
  id           String     @id @default(uuid())
  originalName String
  storagePath  String
  mimeType     String
  size         Int
  directoryId  String?
  directory    Directory? @relation("DirectoryFiles", fields: [directoryId], references: [id])
  uploadedAt   DateTime   @default(now())
}
